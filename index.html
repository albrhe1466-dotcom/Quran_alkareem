<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù…Ø´ØºÙ„ Ø§Ù„Ù‚Ø±Ø¢Ù†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      margin: 0;
      padding-left: 90px;
      font-family: "Tahoma", Arial, sans-serif;
      background: #0f172a;
      color: white;
      direction: rtl;
    }

    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ø§Ù„Ø£ÙŠÙ…Ù† */
    .quran-sidebar {
      position: fixed;
      top: 0;
      right: 0;
      height: 100vh;
      width: 100px;
      background: #020617;
      box-shadow: -5px 0 30px rgba(0, 255, 204, 0.2);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px 6px;
      gap: 10px;
      z-index: 9999;
    }

    .title {
      font-size: 12px;
      opacity: 0.85;
      text-align: center;
    }

    select {
      width: 100%;
      font-size: 11px;
      padding: 4px;
      background: #020617;
      color: white;
      border: 1px solid #1e293b;
      border-radius: 6px;
    }

    button {
      width: 100%;
      background: #0ea5e9;
      border: none;
      color: white;
      padding: 8px;
      font-size: 12px;
      border-radius: 8px;
      cursor: pointer;
    }

    .progress-container,
    .volume-container {
      width: 100%;
      height: 8px;
      background: #1e293b;
      border-radius: 10px;
      cursor: pointer;
      position: relative;
    }

    .progress,
    .volume {
      height: 100%;
      width: 0%;
      background: #22c55e;
      border-radius: 10px;
    }

    .time {
      font-size: 10px;
      text-align: center;
      opacity: 0.7;
    }
  </style>
</head>
<body>

<div class="quran-sidebar">
  <div class="title">ğŸ§ Ù…Ø´ØºÙ„ Ø§Ù„Ù‚Ø±Ø¢Ù†</div>

  <select id="surahSelect"></select>

  <audio id="audio"></audio>

  <button id="playBtn">â–¶ ØªØ´ØºÙŠÙ„</button>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
  <div class="progress-container" id="progressContainer">
    <div class="progress" id="progress"></div>
  </div>

  <div class="time" id="timeText">00:00</div>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØµÙˆØª -->
  <div class="volume-container" id="volumeContainer">
    <div class="volume" id="volumeBar"></div>
  </div>
</div>

<script>
  const surahNames = [
    "Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„",
    "Ø§Ù„ØªÙˆØ¨Ø©","ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù","Ø§Ù„Ø±Ø¹Ø¯","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Ø§Ù„Ø­Ø¬Ø±","Ø§Ù„Ù†Ø­Ù„","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","Ø§Ù„ÙƒÙ‡Ù",
    "Ù…Ø±ÙŠÙ…","Ø·Ù‡","Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","Ø§Ù„Ø­Ø¬","Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","Ø§Ù„Ù†ÙˆØ±","Ø§Ù„ÙØ±Ù‚Ø§Ù†","Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡",
    "Ø§Ù„Ù†Ù…Ù„","Ø§Ù„Ù‚ØµØµ","Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª","Ø§Ù„Ø±ÙˆÙ…","Ù„Ù‚Ù…Ø§Ù†","Ø§Ù„Ø³Ø¬Ø¯Ø©","Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","Ø³Ø¨Ø£","ÙØ§Ø·Ø±",
    "ÙŠØ³","Ø§Ù„ØµØ§ÙØ§Øª","Øµ","Ø§Ù„Ø²Ù…Ø±","ØºØ§ÙØ±","ÙØµÙ„Øª","Ø§Ù„Ø´ÙˆØ±Ù‰","Ø§Ù„Ø²Ø®Ø±Ù","Ø§Ù„Ø¯Ø®Ø§Ù†",
    "Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","Ø§Ù„Ø£Ø­Ù‚Ø§Ù","Ù…Ø­Ù…Ø¯","Ø§Ù„ÙØªØ­","Ø§Ù„Ø­Ø¬Ø±Ø§Øª","Ù‚","Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","Ø§Ù„Ø·ÙˆØ±",
    "Ø§Ù„Ù†Ø¬Ù…","Ø§Ù„Ù‚Ù…Ø±","Ø§Ù„Ø±Ø­Ù…Ù†","Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","Ø§Ù„Ø­Ø´Ø±","Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©",
    "Ø§Ù„ØµÙ","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","Ø§Ù„ØªØºØ§Ø¨Ù†","Ø§Ù„Ø·Ù„Ø§Ù‚","Ø§Ù„ØªØ­Ø±ÙŠÙ…","Ø§Ù„Ù…Ù„Ùƒ","Ø§Ù„Ù‚Ù„Ù…",
    "Ø§Ù„Ø­Ø§Ù‚Ø©","Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬","Ù†ÙˆØ­","Ø§Ù„Ø¬Ù†","Ø§Ù„Ù…Ø²Ù…Ù„","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†",
    "Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","Ø§Ù„Ù†Ø¨Ø£","Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª","Ø¹Ø¨Ø³","Ø§Ù„ØªÙƒÙˆÙŠØ±","Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±","Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚",
    "Ø§Ù„Ø¨Ø±ÙˆØ¬","Ø§Ù„Ø·Ø§Ø±Ù‚","Ø§Ù„Ø£Ø¹Ù„Ù‰","Ø§Ù„ØºØ§Ø´ÙŠØ©","Ø§Ù„ÙØ¬Ø±","Ø§Ù„Ø¨Ù„Ø¯","Ø§Ù„Ø´Ù…Ø³","Ø§Ù„Ù„ÙŠÙ„",
    "Ø§Ù„Ø¶Ø­Ù‰","Ø§Ù„Ø´Ø±Ø­","Ø§Ù„ØªÙŠÙ†","Ø§Ù„Ø¹Ù„Ù‚","Ø§Ù„Ù‚Ø¯Ø±","Ø§Ù„Ø¨ÙŠÙ†Ø©","Ø§Ù„Ø²Ù„Ø²Ù„Ø©","Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª",
    "Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","Ø§Ù„ØªÙƒØ§Ø«Ø±","Ø§Ù„Ø¹ØµØ±","Ø§Ù„Ù‡Ù…Ø²Ø©","Ø§Ù„ÙÙŠÙ„","Ù‚Ø±ÙŠØ´","Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Ø§Ù„ÙƒÙˆØ«Ø±",
    "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†","Ø§Ù„Ù†ØµØ±","Ø§Ù„Ù…Ø³Ø¯","Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙÙ„Ù‚","Ø§Ù„Ù†Ø§Ø³"
  ];

  const audio = document.getElementById("audio");
  const select = document.getElementById("surahSelect");
  const playBtn = document.getElementById("playBtn");
  const progress = document.getElementById("progress");
  const progressContainer = document.getElementById("progressContainer");
  const timeText = document.getElementById("timeText");
  const volumeBar = document.getElementById("volumeBar");
  const volumeContainer = document.getElementById("volumeContainer");

  // ØªØ¹Ø¨Ø¦Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ±
  for (let i = 1; i <= 114; i++) {
    let num = i.toString().padStart(3, "0");
    let option = document.createElement("option");
    option.value = `https://download.quranicaudio.com/quran/abdul_basit_murattal/${num}.mp3`;
    option.textContent = `Ø³ÙˆØ±Ø© ${surahNames[i - 1]}`;
    select.appendChild(option);
  }

  audio.src = select.value;

  select.addEventListener("change", () => {
    audio.src = select.value;
    audio.play();
    playBtn.textContent = "â¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª";
  });

  playBtn.addEventListener("click", () => {
    if (audio.paused) {
      audio.play();
      playBtn.textContent = "â¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª";
    } else {
      audio.pause();
      playBtn.textContent = "â–¶ ØªØ´ØºÙŠÙ„";
    }
  });

  audio.addEventListener("timeupdate", () => {
    if (!audio.duration) return;
    const percent = (audio.currentTime / audio.duration) * 100;
    progress.style.width = percent + "%";
    const min = Math.floor(audio.currentTime / 60);
    const sec = Math.floor(audio.currentTime % 60);
    timeText.textContent = `${min}:${sec.toString().padStart(2, '0')}`;
  });

  progressContainer.addEventListener("click", (e) => {
    const width = progressContainer.clientWidth;
    const clickX = e.offsetX;
    audio.currentTime = (clickX / width) * audio.duration;
  });

  volumeContainer.addEventListener("click", (e) => {
    const width = volumeContainer.clientWidth;
    const clickX = e.offsetX;
    const vol = clickX / width;
    audio.volume = vol;
    volumeBar.style.width = (vol * 100) + "%";
  });

  audio.volume = 0.7;
  volumeBar.style.width = "70%";
</script>

</body>
</html>

<!-- Welcome banner -->
<div id="knowledgeBanner" dir="rtl" style="
  position:fixed; inset:0 0 auto 0; top:0; z-index:9999;
  background:#14161b; color:#eaeaea; border-bottom:2px solid #c9a66b;
  font-family:'Amiri','Scheherazade',serif; padding:16px;">
  <div style="max-width:1000px; margin:0 auto; display:flex; gap:12px; align-items:center; justify-content:space-between;">
    <div style="display:flex; flex-direction:column;">
      <span style="font-size:20px; font-weight:700; color:#c9a66b;">
        Ø§Ø¹Ø±Ù Ø§Ù„Ù‚Ø±Ø¢Ù† ÙƒÙ„Ù‡ ÙˆØ§Ø­ÙØ¸Ù‡.
      </span>
      <span style="font-size:16px; color:#a7b0bf;">
        Ø§ÙØªØ­ Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹Ø±ÙØªÙƒ!
      </span>
    </div>
    <div style="display:flex; gap:10px; align-items:center;">
      <a href="https://albrhe1466-dotcom.github.io/Voicememoquran/" target="_blank" style="
        display:inline-block; padding:10px 16px; border-radius:8px;
        border:1px solid #c9a66b; background:#191c22; color:#c9a66b;
        text-decoration:none; font-weight:700;">
        Ø§ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¢Ù†
      </a>
      <button id="closeBannerBtn" style="
        padding:8px 12px; border-radius:8px; border:1px solid #20222a;
        background:#0e0f12; color:#eaeaea; cursor:pointer;">
        Ø¥ØºÙ„Ø§Ù‚
      </button>
    </div>
  </div>
</div>

<script>
  // Allow closing the banner
  document.getElementById('closeBannerBtn').addEventListener('click', function () {
    const b = document.getElementById('knowledgeBanner');
    if (b) b.remove();
  });

  // Optional: show banner only once per session
  (function(){
    const key = 'knowledgeBannerShown';
    if (sessionStorage.getItem(key) === '1') {
      const b = document.getElementById('knowledgeBanner');
      if (b) b.remove();
    } else {
      sessionStorage.setItem(key, '1');
    }
  })();
</script>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NoorAI â€¢ Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù‚Ø±Ø¢Ù†</title>
  <style>
    :root {
      --bg: #0e0f12;
      --panel: #14161b;
      --border: #20222a;
      --text: #eaeaea;
      --muted: #a7b0bf;
      --gold: #c9a66b;
      --accent: #2ecc71;
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; height: 100%; background: var(--bg); color: var(--text); font-family: "Amiri","Scheherazade",serif; }
    header { padding: 16px; background: #0f1115; border-bottom: 1px solid var(--border); }
    .brand { font-weight: 700; color: var(--gold); }
    .hint { color: var(--muted); font-size: 14px; margin-top: 6px; }
    .container { max-width: 1100px; margin: 0 auto; padding: 16px; display: grid; grid-template-columns: 1fr; gap: 16px; }
    .row { display: grid; grid-template-columns: 1fr; gap: 16px; }

    /* Accordion blocks */
    .surah { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: var(--panel); }
    .surah-header {
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      padding: 14px 16px; cursor: pointer; transition: background .25s ease;
    }
    .surah-header:hover { background: #191c22; }
    .names { display: flex; align-items: center; gap: 12px; }
    .num-pill { background: #0f1115; border: 1px solid var(--border); color: var(--gold); padding: 4px 8px; border-radius: 999px; font-weight: 700; min-width: 32px; text-align: center; }
    .name-group { display: flex; flex-direction: column; }
    .name-ar { font-weight: 700; }
    .name-en { color: var(--muted); font-size: 14px; }
    .actions { display: flex; align-items: center; gap: 10px; }
    .link { color: var(--muted); font-size: 14px; text-decoration: none; border: 1px solid var(--border); padding: 6px 10px; border-radius: 8px; }
    .link:hover { background: #191c22; color: var(--text); }
    .arrow { font-size: 16px; transition: transform .25s ease; }
    .arrow.down { transform: rotate(90deg); }

    .surah-body {
      max-height: 0; overflow: hidden; background: #0f1115;
      transition: max-height .5s ease, padding .25s ease;
      padding: 0 16px;
      position: relative;
    }
    .surah-body.open { max-height: 1000px; padding: 16px; }
    .mushaf-bg {
      position: absolute; inset: 0; background: url('mushaf.jpg') center/cover no-repeat; opacity: 0.08; pointer-events: none;
    }
    .ayat { position: relative; display: grid; gap: 8px; }
    .ayah {
      padding: 8px 10px; border-radius: 10px; background: #12141a; line-height: 2.2; font-size: 20px;
      transition: background .2s ease, box-shadow .2s ease;
    }
    .ayah:hover { background: #141a1f; box-shadow: 0 0 0 1px #1f2832 inset; }
    .num { color: var(--gold); font-size: 13px; margin-inline-start: 8px; }

    /* Change Surah panel styles */
    .switch { border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: var(--panel); }
    .switch-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; cursor: pointer; }
    .switch-header:hover { background: #191c22; }
    .switch-body { background: #0f1115; padding: 16px; }
    .row-flex { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
    .label { color: var(--gold); }
    .select {
      padding: 8px; border-radius: 8px; border: 1px solid var(--border);
      background: #111319; color: var(--text); min-width: 260px;
    }
    .status { color: var(--muted); font-size: 14px; }
    .error { color: #ffb3b3; font-size: 14px; }

    @media (max-width: 720px) {
      .container { padding: 12px; }
      .surah-body.open { max-height: 1400px; }
      .name-en { font-size: 13px; }
      .ayah { font-size: 18px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">NoorAI â€¢ Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù‚Ø±Ø¢Ù†</div>
    <div class="hint">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ø¹Ø±Ø¶ Ø¢ÙŠØ§ØªÙ‡Ø§ØŒ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… ØªØºÙŠÙŠØ± Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ø§Ø®ØªÙŠØ§Ø± Ø£ÙŠ Ø³ÙˆØ±Ø© ÙÙˆØ±Ù‹Ø§.</div>
  </header>

  <div class="container">
    <!-- Change Surah panel (opens by default and shows Alâ€‘FÄtiá¸¥ah) -->
    <div class="switch" id="switch">
      <div class="switch-header" id="switchHeader">
        <div class="names">
          <div class="num-pill">â˜…</div>
          <div class="name-group">
            <div class="name-ar">ØªØºÙŠÙŠØ± Ø§Ù„Ø³ÙˆØ±Ø©</div>
            <div class="name-en">Change Surah</div>
          </div>
        </div>
        <div class="arrow down" id="switchArrow">â–¶</div>
      </div>
      <div class="switch-body" id="switchBody">
        <div class="row-flex">
          <label class="label" for="surahSelect">Ø§Ø®ØªØ± Ø³ÙˆØ±Ø©:</label>
          <select class="select" id="surahSelect"></select>
          <span class="status" id="switchStatus">ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§.</span>
        </div>
        <div class="surah-body open" style="padding:0; border-radius: 10px; margin-top: 12px;">
          <div class="mushaf-bg"></div>
          <div class="ayat" id="switchAyat"></div>
        </div>
      </div>
    </div>

    <!-- Accordion list for all surahs -->
    <div class="row" id="surahList"></div>
  </div>

  <script>
    (function() {
      'use strict';

      // Names 1..114 (Arabic + English)
      var SURAH_NAMES = [
        ["Ø§Ù„ÙØ§ØªØ­Ø©","The Opening"],["Ø§Ù„Ø¨Ù‚Ø±Ø©","The Cow"],["Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","The Family of Imran"],["Ø§Ù„Ù†Ø³Ø§Ø¡","The Women"],
        ["Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","The Table Spread"],["Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","The Cattle"],["Ø§Ù„Ø£Ø¹Ø±Ø§Ù","The Heights"],["Ø§Ù„Ø£Ù†ÙØ§Ù„","The Spoils of War"],
        ["Ø§Ù„ØªÙˆØ¨Ø©","The Repentance"],["ÙŠÙˆÙ†Ø³","Jonah"],["Ù‡ÙˆØ¯","Hud"],["ÙŠÙˆØ³Ù","Joseph"],["Ø§Ù„Ø±Ø¹Ø¯","The Thunder"],
        ["Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Abraham"],["Ø§Ù„Ø­Ø¬Ø±","The Rocky Tract"],["Ø§Ù„Ù†Ø­Ù„","The Bee"],["Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","The Night Journey"],["Ø§Ù„ÙƒÙ‡Ù","The Cave"],
        ["Ù…Ø±ÙŠÙ…","Mary"],["Ø·Ù‡","Ta-Ha"],["Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","The Prophets"],["Ø§Ù„Ø­Ø¬","The Pilgrimage"],["Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","The Believers"],
        ["Ø§Ù„Ù†ÙˆØ±","The Light"],["Ø§Ù„ÙØ±Ù‚Ø§Ù†","The Criterion"],["Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡","The Poets"],["Ø§Ù„Ù†Ù…Ù„","The Ant"],
        ["Ø§Ù„Ù‚ØµØµ","The Stories"],["Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª","The Spider"],["Ø§Ù„Ø±ÙˆÙ…","The Romans"],["Ù„Ù‚Ù…Ø§Ù†","Luqman"],
        ["Ø§Ù„Ø³Ø¬Ø¯Ø©","The Prostration"],["Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","The Confederates"],["Ø³Ø¨Ø£","Sheba"],["ÙØ§Ø·Ø±","The Originator"],
        ["ÙŠØ³","Ya-Sin"],["Ø§Ù„ØµØ§ÙØ§Øª","Those Ranged in Rows"],["Øµ","Sad"],["Ø§Ù„Ø²Ù…Ø±","The Groups"],["ØºØ§ÙØ±","The Forgiver"],
        ["ÙØµÙ„Øª","Explained in Detail"],["Ø§Ù„Ø´ÙˆØ±Ù‰","The Consultation"],["Ø§Ù„Ø²Ø®Ø±Ù","The Gold Adornments"],["Ø§Ù„Ø¯Ø®Ø§Ù†","The Smoke"],
        ["Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","The Crouching"],["Ø§Ù„Ø£Ø­Ù‚Ø§Ù","The Wind-Curved Sandhills"],["Ù…Ø­Ù…Ø¯","Muhammad"],["Ø§Ù„ÙØªØ­","The Victory"],
        ["Ø§Ù„Ø­Ø¬Ø±Ø§Øª","The Rooms"],["Ù‚","Qaf"],["Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","The Winnowing Winds"],["Ø§Ù„Ø·ÙˆØ±","The Mount"],
        ["Ø§Ù„Ù†Ø¬Ù…","The Star"],["Ø§Ù„Ù‚Ù…Ø±","The Moon"],["Ø§Ù„Ø±Ø­Ù…Ù†","The Beneficent"],["Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","The Inevitable"],
        ["Ø§Ù„Ø­Ø¯ÙŠØ¯","The Iron"],["Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","The Pleading Woman"],["Ø§Ù„Ø­Ø´Ø±","The Exile"],["Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©","The Examined One"],
        ["Ø§Ù„ØµÙ","The Ranks"],["Ø§Ù„Ø¬Ù…Ø¹Ø©","The Congregation"],["Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","The Hypocrites"],["Ø§Ù„ØªØºØ§Ø¨Ù†","The Mutual Disillusion"],
        ["Ø§Ù„Ø·Ù„Ø§Ù‚","The Divorce"],["Ø§Ù„ØªØ­Ø±ÙŠÙ…","The Prohibition"],["Ø§Ù„Ù…Ù„Ùƒ","The Sovereignty"],["Ø§Ù„Ù‚Ù„Ù…","The Pen"],
        ["Ø§Ù„Ø­Ø§Ù‚Ø©","The Reality"],["Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬","The Ascending Stairways"],["Ù†ÙˆØ­","Noah"],["Ø§Ù„Ø¬Ù†","The Jinn"],
        ["Ø§Ù„Ù…Ø²Ù…Ù„","The Enshrouded One"],["Ø§Ù„Ù…Ø¯Ø«Ø±","The Cloaked One"],["Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","The Resurrection"],["Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Man"],
        ["Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","The Emissaries"],["Ø§Ù„Ù†Ø¨Ø£","The Tidings"],["Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª","Those Who Drag Forth"],["Ø¹Ø¨Ø³","He Frowned"],
        ["Ø§Ù„ØªÙƒÙˆÙŠØ±","The Overthrowing"],["Ø§Ù„Ø¥Ù†ÙØ·Ø§Ø±","The Splitting"],["Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Defrauding"],["Ø§Ù„Ø¥Ù†Ø´Ù‚Ø§Ù‚","The Splitting Open"],
        ["Ø§Ù„Ø¨Ø±ÙˆØ¬","The Mansions of the Stars"],["Ø§Ù„Ø·Ø§Ø±Ù‚","The Morning Star"],["Ø§Ù„Ø£Ø¹Ù„Ù‰","The Most High"],["Ø§Ù„ØºØ§Ø´ÙŠØ©","The Overwhelming"],
        ["Ø§Ù„ÙØ¬Ø±","The Dawn"],["Ø§Ù„Ø¨Ù„Ø¯","The City"],["Ø§Ù„Ø´Ù…Ø³","The Sun"],["Ø§Ù„Ù„ÙŠÙ„","The Night"],
        ["Ø§Ù„Ø¶Ø­Ù‰","The Morning Hours"],["Ø§Ù„Ø´Ø±Ø­","The Relief"],["Ø§Ù„ØªÙŠÙ†","The Fig"],["Ø§Ù„Ø¹Ù„Ù‚","The Clot"],
        ["Ø§Ù„Ù‚Ø¯Ø±","The Power"],["Ø§Ù„Ø¨ÙŠÙ†Ø©","The Clear Proof"],["Ø§Ù„Ø²Ù„Ø²Ù„Ø©","The Earthquake"],["Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª","The Courser"],
        ["Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","The Calamity"],["Ø§Ù„ØªÙƒØ§Ø«Ø±","Rivalry in World Increase"],["Ø§Ù„Ø¹ØµØ±","The Declining Day"],["Ø§Ù„Ù‡Ù…Ø²Ø©","The Slanderer"],
        ["Ø§Ù„ÙÙŠÙ„","The Elephant"],["Ù‚Ø±ÙŠØ´","Quraysh"],["Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Small Kindnesses"],["Ø§Ù„ÙƒÙˆØ«Ø±","Abundance"],
        ["Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†","The Disbelievers"],["Ø§Ù„Ù†ØµØ±","The Divine Support"],["Ø§Ù„Ù…Ø³Ø¯","The Palm Fiber"],["Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Sincerity"],
        ["Ø§Ù„ÙÙ„Ù‚","The Daybreak"],["Ø§Ù„Ù†Ø§Ø³","Mankind"]
      ];

      // DOM refs
      var surahList = document.getElementById('surahList');
      var switchHeader = document.getElementById('switchHeader');
      var switchArrow = document.getElementById('switchArrow');
      var switchBody = document.getElementById('switchBody');
      var switchStatus = document.getElementById('switchStatus');
      var switchAyat = document.getElementById('switchAyat');
      var surahSelect = document.getElementById('surahSelect');

      // Build select options
      var frag = document.createDocumentFragment();
      var placeholder = document.createElement('option');
      placeholder.value = '';
      placeholder.textContent = '-- Ø§Ø®ØªØ± --';
      frag.appendChild(placeholder);
      for (var i = 0; i < SURAH_NAMES.length; i++) {
        var opt = document.createElement('option');
        opt.value = String(i + 1);
        opt.textContent = (i + 1) + ' â€” ' + SURAH_NAMES[i][0] + ' â€” ' + SURAH_NAMES[i][1];
        frag.appendChild(opt);
      }
      surahSelect.appendChild(frag);

      // Toggle switch panel open/close
      switchHeader.addEventListener('click', function() {
        var isOpen = switchBody.classList.toggle('open');
        if (isOpen) { switchArrow.classList.add('down'); } else { switchArrow.classList.remove('down'); }
      });

      // Fetch ayat utility
      function fetchAyat(num, targetEl, statusEl) {
        if (statusEl) { statusEl.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦'; }
        return fetch('https://api.alquran.cloud/v1/surah/' + num + '/ar.quran-uthmani', { mode: 'cors' })
          .then(function(res) {
            if (!res.ok) throw new Error('Network error');
            return res.json();
          })
          .then(function(json) {
            var ayahs = (json && json.data && json.data.ayahs) ? json.data.ayahs : [];
            var html = '';
            for (var j = 0; j < ayahs.length; j++) {
              var a = ayahs[j];
              html += '<div class="ayah">' + a.text + ' <span class="num">(' + a.numberInSurah + ')</span></div>';
            }
            targetEl.innerHTML = html;
            if (statusEl) {
              var idx = parseInt(num, 10) - 1;
              statusEl.textContent = 'ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„: ' + SURAH_NAMES[idx][0] + ' â€” ' + SURAH_NAMES[idx][1];
            }
          })
          .catch(function() {
            targetEl.innerHTML = '<div class="error">ØªØ¹Ø°Ù‘Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆÙØªØ­ Ø§Ù„ØµÙØ­Ø© Ø¹Ø¨Ø± HTTPS.</div>';
            if (statusEl) statusEl.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„.';
          });
      }

      // Default: load Alâ€‘FÄtiá¸¥ah into switch panel
      surahSelect.value = '1';
      fetchAyat('1', switchAyat, switchStatus);

      // Change surah instantly on selection
      surahSelect.addEventListener('change', function() {
        var val = surahSelect.value;
        if (!val) { switchAyat.innerHTML = ''; switchStatus.textContent = 'Ø§Ø®ØªØ± Ø³ÙˆØ±Ø©.'; return; }
        fetchAyat(val, switchAyat, switchStatus);
      });

      // Build accordion list for all surahs
      for (var k = 0; k < SURAH_NAMES.length; k++) {
        (function(idx) {
          var num = idx + 1;
          var ar = SURAH_NAMES[idx][0];
          var en = SURAH_NAMES[idx][1];

          var wrap = document.createElement('div');
          wrap.className = 'surah';

          var header = document.createElement('div');
          header.className = 'surah-header';
          header.innerHTML =
            '<div class="names">' +
              '<div class="num-pill">' + num + '</div>' +
              '<div class="name-group">' +
                '<div class="name-ar">' + ar + '</div>' +
                '<div class="name-en">' + en + '</div>' +
              '</div>' +
            '</div>' +
            '<div class="actions">' +
              '<a class="link" href="reader.html?surah=' + num + '" target="_blank" rel="noopener">Ø§ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø³ÙˆØ±Ø©</a>' +
              '<div class="arrow">â–¶</div>' +
            '</div>';

          var body = document.createElement('div');
          body.className = 'surah-body';
          var bg = document.createElement('div');
          bg.className = 'mushaf-bg';
          var ayat = document.createElement('div');
          ayat.className = 'ayat';
          ayat.innerHTML = '<div class="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­â€¦</div>';
          body.appendChild(bg);
          body.appendChild(ayat);

          // Toggle open/close + fetch once
          var loaded = false;
          header.addEventListener('click', function(e) {
            // If user clicked the deep link, donâ€™t toggle accordion
            var tag = e.target.tagName.toLowerCase();
            if (tag === 'a') return;

            body.classList.toggle('open');
            var arr = header.querySelector('.arrow');
            arr.classList.toggle('down', body.classList.contains('open'));

            if (body.classList.contains('open') && !loaded) {
              fetchAyat(String(num), ayat, null).then(function() { loaded = true; });
            }
          });

          wrap.appendChild(header);
          wrap.appendChild(body);
          surahList.appendChild(wrap);
        })(k);
      }
    })();
  </script>
</body>
</html>
<style>
  /* Make opened surah panels scrollable */
  .surah-body.open {
    overflow-y: auto;
    max-height: 70vh;         /* enough height to invite scrolling */
    -webkit-overflow-scrolling: touch; /* smooth scrolling on iOS */
  }

  /* Also apply to the Change Surah preview body if you're using it */
  #switchBody .surah-body.open {
    overflow-y: auto;
    max-height: 70vh;
    -webkit-overflow-scrolling: touch;
  }

  /* Firefox thin scrollbar */
  .surah-body.open {
    scrollbar-width: thin;                 /* thin bar */
    scrollbar-color: #3b4150 #0f1115;      /* thumb color | track color */
  }

  /* WebKit (Chrome, Edge, Safari) scrollbar */
  .surah-body.open::-webkit-scrollbar {
    width: 8px;                            /* thin bar width */
  }
  .surah-body.open::-webkit-scrollbar-track {
    background: #0f1115;                   /* track behind the thumb */
  }
  .surah-body.open::-webkit-scrollbar-thumb {
    background: #3b4150;                   /* thumb color */
    border-radius: 12px;
    border: 2px solid #0f1115;             /* creates a nice inset effect */
  }
  .surah-body.open::-webkit-scrollbar-thumb:hover {
    background: #4a5162;
  }
</style>

<script>
  // Optional: ensure any already-open panels get the correct max-height on load
  (function(){
    'use strict';
    var opened = document.querySelectorAll('.surah-body.open');
    for (var i = 0; i < opened.length; i++) {
      // Force a reflow-safe max-height if needed
      opened[i].style.maxHeight = opened[i].style.maxHeight || '70vh';
    }
  })();
</script>
